---
title: Advent of JavaScript, Day 17
date: 2021-12-30
tags: ['advent', 'javascript', 'challenge']
summary: 'Challenge #17 â€“ Table of Contents Web Component'
draft: true
---

import Demo from '@/components/TableOfContents.astro'

<style>{`
  details {
    display: none;
  }
`}</style>

_Looking for Day 11-16? I skipped them because I'm on vacation (and they didn't seem very interesting)._ ðŸ™ƒ

![Advent of JS Homepage](/static/images/advent-of-js.png)

Challenge #17 is a _Table of Contents_ sidebar that automatically highlights the heading for the visible content.

![Screenshot of app](https://coachtestprep.s3.amazonaws.com/direct-uploads/user-117025/a6a5e9dd-33cf-4000-a18b-8f939f549bb5/CleanShot%202021-12-17%20at%2008.06.14.png)

With the project files downloaded and `codesandbox`'d into [a live CodeSandbox](https://codesandbox.io/s/advent-of-javascript-day-17-w899s), I'm ready to get going!

---

## User Requirements

Again, let's start with the _User Requirements_ and speculate how I can solve these:

> - view the currently visible header in the table of contents

This...isn't very good or helpful user requirements.

Table of Contents have several edge-cases & considerations that need to be addressed:

- The last visible header is selected
- When between headers, the last passed header is selected
- When multiple headers are visible, the last header is selected

  This is necessary when the last header (e.g. "Conclusion") has very little content

- On mobile, the Table of Contents needs to be hidden by default, but toggled on

  - When toggled on, there needs to be a close indicator
  - When a link is clicked, the Table of Contents needs to be hidden

  It sucks that these templates aren't responsive by default =/

## Technical Requirement

Since Table of Contents are so ubiquitous, it'd be great if I could use a custom Web component
that doesn't require bundling and could be used from a CDN:

- [Lit](https://lit.dev/) doesn't have a CDN solution
- [Slim.JS](https://slimjs.com/#/getting-started) has a CDN solution, but I wonder how far I can get without any library...
- Native [Web Components](https://www.webcomponents.org/) wouldn't require bundling or other libraries. Hopefully, it's just a `<script>` tag away from usage!

For styling, I want to remove everything that exists in the default `styles.css` and let [Tailwind CSS' `.prose`](https://tailwindcss.com/docs/typography-plugin) takeover.

But that's going to make things a bit more complicated, since `@tailwindcss/typography` is a plugin.

**I'm going to skip the CodeSandbox and develop `toc.js` right here for this page!**

## Demo

_ðŸ‘ˆ Look at the sidebar_

<Demo />
